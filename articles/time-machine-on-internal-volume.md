---
title: "内蔵ディスクでTime Machineを使い倒す方法（自己責任）"
emoji: "💾"
type: "tech"
topics: ["macOS", "TimeMachine", "APFS", "tmutil"]
published: true
---

どうも、ありすえです。

最近とある事件が発生し、バックアップの大切さを痛感しております。
Mac には昔から Time Machine という体験が良いバックアップ方法があるのですが、会社の Mac でこれを有効にするのは外付け HDD とか必要でしんどいんですよね。
で、いろいろ調べたらローカルディスクに APFS ボリューム作って、そこにバックアップとれる方法がわかったのでメモしておきます。

ちなみに、言うまでもありませんが、これはバックアップとしては欠陥品です。バックアップ先とバックアップ元が同じデバイスなわけなので、壊れたら **全てふっとびます** 。
でも個人的には「壊れたら壊れたでしょうがない」「そもそも重要なデータはクラウドにある」「ヒューマンエラーからのリカバーができればいい」というスタンスなので、満足してます。

:::message
この記事の内容は**完全に自己責任**です。内蔵ディスクが死んだら元データもバックアップも道連れです。
:::

## 必要なもの

- macOS Big Sur以降（APFSでTime Machineが使えるようになったやつ）
- 内蔵ストレージの空き容量

## やり方

### ステップ1: APFSボリュームを作る

まずはディスクユーティリティでバックアップ用のボリュームを作ります。

1. ディスクユーティリティを開く
2. 左側のサイドバーで内蔵ディスクのコンテナを選ぶ（だいたい「Macintosh HD - Data」とか書いてあるやつ）
3. ツールバーの「＋」ボタンをクリック
4. 名前を適当につける（私は`TimeMachine`にした）
5. フォーマットは`APFS`のまま
6. サイズオプションで上限を設定しておく（無限に増えるのを防ぐため、とりあえず 500 GBあたえた）

これで`/Volumes/TimeMachine`にマウントされるはず。

### ステップ2: tmutilでゴリ押し設定

このボリューム Time Machine の設定GUIじゃ選べないので、ターミナルから直接設定します：

```bash
sudo tmutil setdestination /Volumes/TimeMachine
```

うまくいったか確認：

```bash
$ tmutil destinationinfo
Name          : TimeMachine
Kind          : Local
Mount Point   : /Volumes/TimeMachine
ID            : 7C2E8C9F-XXXX-XXXX-XXXX-XXXXXXXXXXXX
```

よさそう。

### ステップ3: バックアップを動かす

初回バックアップを開始：

```bash
tmutil startbackup --auto
```

これやると Time Machine の設定で見れるようになりました。便利。

## 注意点（重要）

**内蔵ディスクが死んだら全部パー**です。これは強調してもしすぎることはない。

## おまけ：除外設定

バックアップ不要なものは除外しておきましょう。iCloud でバックアップできてるものとか不要ですよね。

## まとめ

内蔵ディスクをTime Machineのバックアップ先にする方法を紹介しました。**Appleは推奨してない**し、**壊れたら全部消える**けど、使い方次第では便利です。

繰り返しますが自己責任でどうぞ。私は責任取りません。

ちなみに記事の内容も記事自体も ChatGPT と Claude Code で雑に書いたものを手なおししただけなので 10 分くらいで書けました。便利。
